@using Articulate
@using Articulate.Models
@using Umbraco.Core
@using Umbraco.Web
@model Articulate.Models.ListModel
@{
    Layout = "Master.cshtml";
}
@if (!Model.Children.Any())
{
    <article>No blog posts found</article>        
}
else
{
    foreach (var post in Model.Posts)
    {
        <article class="preview">
            <header>
                <h1 class="post-title"><a href="@post.Url">@post.Name</a></h1>
                <div class="post-meta">
                    @Html.DisplayFor(model => post.PublishedDate)
                </div>
            </header>
            <section class="post-excerpt">
                @if (!post.PostImageUrl.IsNullOrWhiteSpace())
                {
                    var thumbnail = post.GetCropUrl("postImage", "thumbnail");
                    if (!thumbnail.IsNullOrWhiteSpace())
                    {
                        <img class="thumb" src="@thumbnail" alt="@post.Name" />
                    }
                }
                <p>
                    @post.Excerpt&hellip;
                </p>
                <div class="button-group no-bullet">
                    <a href="@post.Url" class="button hollow secondary read-more">Read More <i class="icon-arrow-right"></i></a>
                </div>
            </section>
        </article>
    }
    
    @Html.ThemedPartial(Model, "Pager", Model.Pages)   
}
